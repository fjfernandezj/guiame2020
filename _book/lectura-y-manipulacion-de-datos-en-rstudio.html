<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Unidad 3 Lectura y manipulación de datos en RStudio | Guía de Métodos Estadísticos 2020</title>
  <meta name="description" content="Guía para el desarrollo de Laboratorio de la asignatura Métodos Estadísticos" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Unidad 3 Lectura y manipulación de datos en RStudio | Guía de Métodos Estadísticos 2020" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Guía para el desarrollo de Laboratorio de la asignatura Métodos Estadísticos" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Unidad 3 Lectura y manipulación de datos en RStudio | Guía de Métodos Estadísticos 2020" />
  
  <meta name="twitter:description" content="Guía para el desarrollo de Laboratorio de la asignatura Métodos Estadísticos" />
  

<meta name="author" content="Pablo Cortes; Francisco Fernández" />


<meta name="date" content="2020-01-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tipos-de-datos-en-r.html"/>
<link rel="next" href="visualizacion-de-datos-en-rstudio.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Guía SILB 1513 </a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bienvenidos</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Software estadístico R</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#aspectos-basicos-de-r"><i class="fa fa-check"></i><b>1.1</b> Aspectos básicos de R</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#r-studio"><i class="fa fa-check"></i><b>1.2</b> R Studio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#conociendo-a-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Conociendo a Rstudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#trabajemos-en-rstudio"><i class="fa fa-check"></i><b>1.3</b> Trabajemos en RStudio</a><ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#objetos-de-datos"><i class="fa fa-check"></i><b>1.3.1</b> Objetos de Datos</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#datos-numericos"><i class="fa fa-check"></i><b>1.3.2</b> Datos Numéricos</a></li>
<li class="chapter" data-level="1.3.3" data-path="intro.html"><a href="intro.html#vectores"><i class="fa fa-check"></i><b>1.3.3</b> Vectores</a></li>
<li class="chapter" data-level="1.3.4" data-path="intro.html"><a href="intro.html#funciones-para-generar-vectores"><i class="fa fa-check"></i><b>1.3.4</b> Funciones para generar vectores</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tipos-de-datos-en-r.html"><a href="tipos-de-datos-en-r.html"><i class="fa fa-check"></i><b>2</b> Tipos de datos en R</a><ul>
<li class="chapter" data-level="2.1" data-path="tipos-de-datos-en-r.html"><a href="tipos-de-datos-en-r.html#objetos-en-r"><i class="fa fa-check"></i><b>2.1</b> Objetos en R</a><ul>
<li class="chapter" data-level="2.1.1" data-path="tipos-de-datos-en-r.html"><a href="tipos-de-datos-en-r.html#propiedades-de-los-objetos"><i class="fa fa-check"></i><b>2.1.1</b> Propiedades de los objetos</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="tipos-de-datos-en-r.html"><a href="tipos-de-datos-en-r.html#tipos-de-objetos"><i class="fa fa-check"></i><b>2.2</b> Tipos de Objetos</a><ul>
<li class="chapter" data-level="2.2.1" data-path="tipos-de-datos-en-r.html"><a href="tipos-de-datos-en-r.html#objetos-de-valores-numericos"><i class="fa fa-check"></i><b>2.2.1</b> Objetos de valores numéricos</a></li>
<li class="chapter" data-level="2.2.2" data-path="tipos-de-datos-en-r.html"><a href="tipos-de-datos-en-r.html#data-frames"><i class="fa fa-check"></i><b>2.2.2</b> Data frames</a></li>
<li class="chapter" data-level="2.2.3" data-path="tipos-de-datos-en-r.html"><a href="tipos-de-datos-en-r.html#valores-perdidos"><i class="fa fa-check"></i><b>2.2.3</b> Valores Perdidos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lectura-y-manipulacion-de-datos-en-rstudio.html"><a href="lectura-y-manipulacion-de-datos-en-rstudio.html"><i class="fa fa-check"></i><b>3</b> Lectura y manipulación de datos en RStudio</a><ul>
<li class="chapter" data-level="3.1" data-path="lectura-y-manipulacion-de-datos-en-rstudio.html"><a href="lectura-y-manipulacion-de-datos-en-rstudio.html#preparemos-los-datos-para-r"><i class="fa fa-check"></i><b>3.1</b> Preparemos los datos para R</a><ul>
<li class="chapter" data-level="3.1.1" data-path="lectura-y-manipulacion-de-datos-en-rstudio.html"><a href="lectura-y-manipulacion-de-datos-en-rstudio.html#que-formato-de-archivos-reconoce-r"><i class="fa fa-check"></i><b>3.1.1</b> ¿Qué formato de archivos reconoce R?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="lectura-y-manipulacion-de-datos-en-rstudio.html"><a href="lectura-y-manipulacion-de-datos-en-rstudio.html#importemos-los-datos-a-r"><i class="fa fa-check"></i><b>3.2</b> Importemos los datos a R</a></li>
<li class="chapter" data-level="3.3" data-path="lectura-y-manipulacion-de-datos-en-rstudio.html"><a href="lectura-y-manipulacion-de-datos-en-rstudio.html#exploremos-los-datos-a-r"><i class="fa fa-check"></i><b>3.3</b> Exploremos los datos a R</a></li>
<li class="chapter" data-level="3.4" data-path="lectura-y-manipulacion-de-datos-en-rstudio.html"><a href="lectura-y-manipulacion-de-datos-en-rstudio.html#exploremos-los-datos-r-con-la-libreria-dplyr"><i class="fa fa-check"></i><b>3.4</b> Exploremos los datos R con la libreria dplyr</a></li>
<li class="chapter" data-level="3.5" data-path="lectura-y-manipulacion-de-datos-en-rstudio.html"><a href="lectura-y-manipulacion-de-datos-en-rstudio.html#reduccion-de-una-base-de-datos"><i class="fa fa-check"></i><b>3.5</b> Reducción de una base de datos</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualizacion-de-datos-en-rstudio.html"><a href="visualizacion-de-datos-en-rstudio.html"><i class="fa fa-check"></i><b>4</b> Visualización de datos en RStudio</a><ul>
<li class="chapter" data-level="4.1" data-path="visualizacion-de-datos-en-rstudio.html"><a href="visualizacion-de-datos-en-rstudio.html#grafico-de-dispersion-o-scatterplot"><i class="fa fa-check"></i><b>4.1</b> Gráfico de dispersión o <em>Scatterplot</em></a></li>
<li class="chapter" data-level="4.2" data-path="visualizacion-de-datos-en-rstudio.html"><a href="visualizacion-de-datos-en-rstudio.html#diagrama-de-cajas-o-boxplot"><i class="fa fa-check"></i><b>4.2</b> Diagrama de cajas o <em>Boxplot</em></a></li>
<li class="chapter" data-level="4.3" data-path="visualizacion-de-datos-en-rstudio.html"><a href="visualizacion-de-datos-en-rstudio.html#histogramas"><i class="fa fa-check"></i><b>4.3</b> Histogramas</a></li>
<li class="chapter" data-level="4.4" data-path="visualizacion-de-datos-en-rstudio.html"><a href="visualizacion-de-datos-en-rstudio.html#ejercicios"><i class="fa fa-check"></i><b>4.4</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>5</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Guía de Métodos Estadísticos 2020</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lectura-y-manipulacion-de-datos-en-rstudio" class="section level1">
<h1><span class="header-section-number">Unidad 3</span> Lectura y manipulación de datos en RStudio</h1>
<p>Hoy en día la información generada a partir del mundo natural se multiplica minuto a minuto. Desde un punto de vista académico y/o profesional, la correcta toma de decisiones demandará la recolección y manejo de grandes cantidades de datos, los cuales nos permitirán describir y determinar propiedades del mundo natural.</p>
<p>Una base de datos se puede definir como un conjunto de información perteneciente a un mismo contexto y almacenada sistemáticamente para su posterior uso. Cada base de datos se compone de una tablas que guarda un conjunto de datos. Cada tabla tiene una o más columnas y filas.</p>
<p>En este laboratorio comenzaremos a trabajar con bases de datos. Para ello abordaremos cuatro tópicos centrales:</p>
<ol style="list-style-type: decimal">
<li>La preparación de los datos para poder trabajarlos en R,</li>
<li>La importación de una base de datos a R,</li>
<li>La edición de los datos contenidos en la base de datos,</li>
<li>La exploración de la información contenida en nuestra base de datos.</li>
</ol>
<div id="preparemos-los-datos-para-r" class="section level2">
<h2><span class="header-section-number">3.1</span> Preparemos los datos para R</h2>
<p>Al mencionar que trabajaremos con base de datos, inmediatamente surge el desafío de como podemos ingresar nuestra información a R. Lo primero que debemos tener presente es que a R “le encantan” las bases de datos que tienen cada observación en una fila y que en cada columna incorpora una variable. Por ejemplo, si tenemos una base de datos con la altura y género de los alumnos del curso “métodos estadísticos” de la escuela de Agronomía:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" title="1">genero &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Hombre&quot;</span>,<span class="st">&quot;Hombre&quot;</span>,<span class="st">&quot;Hombre&quot;</span>,<span class="st">&quot;Hombre&quot;</span>,<span class="st">&quot;Hombre&quot;</span>,<span class="st">&quot;Mujer&quot;</span>,<span class="st">&quot;Mujer&quot;</span>,<span class="st">&quot;Mujer&quot;</span>,<span class="st">&quot;Mujer&quot;</span>,<span class="st">&quot;Mujer&quot;</span>)</a>
<a class="sourceLine" id="cb87-2" title="2">altura&lt;-<span class="kw">c</span>(<span class="fl">1.75</span>,<span class="fl">1.68</span>,<span class="fl">1.82</span>,<span class="fl">1.71</span>,<span class="fl">1.62</span>,<span class="fl">1.61</span>,<span class="fl">1.55</span>,<span class="fl">1.53</span>,<span class="fl">1.66</span>,<span class="fl">1.58</span>)</a>
<a class="sourceLine" id="cb87-3" title="3">base_de_datos &lt;-<span class="st"> </span><span class="kw">data.frame</span>(genero,altura)</a></code></pre></div>
<p>¿Cuáles son las dimensiones de esta base de datos?. La tabla tiene una dimensión de 10x2. Esto quiere decir que está compuesta de diez filas y dos columnas.</p>
<p><strong>IMPORTANTE:</strong>
* Las filas contienen nuestras observaciones.
* Las columnas contienen nuestras variables.
* R reconoce puntos (“.”) y no comas (“,”) como separador de decimales.
* Revisar que nuestra base de datos no contenga filas en blanco (sin valores). Cuando eso ocurra se recomienda rellenar el espacio con las letras <code>NA</code> (“Not available”).</p>
<div id="que-formato-de-archivos-reconoce-r" class="section level3">
<h3><span class="header-section-number">3.1.1</span> ¿Qué formato de archivos reconoce R?</h3>
<p>R es muy versátil para reconocer y leer múltiples formatos de archivo. Los archivos de texto plano, tales
como TXT o CSV, son la opción más sencilla para importar datos desde hojas de cálculo. Por ejemplo, Excel
permite guardar archivos .txt (texto delimitado por tabulaciones) o .csv (texto delimitados por comas). En
este curso los alentamos a utilizar el formato CSV. Una ventaja de este tipo de representación es que los
datos se pueden visualizar/editar con un editor de texto. CSV representa la información en forma de tabla
donde las columnas se delimitan con un carácter (por defecto, con coma)* y las filas con saltos de línea.</p>
</div>
</div>
<div id="importemos-los-datos-a-r" class="section level2">
<h2><span class="header-section-number">3.2</span> Importemos los datos a R</h2>
<p>Para importar los datos, necesitamos especificar a R la localización (ruta) de los datos en el computador. El
problema es que la ruta de los archivos generalmente son muy largas y difícil de memorizar. Además, si se
equivocan al escribirla, R no la reconocerá. Es por ello que es preferible que RStudio haga ese difícil trabajo.</p>
<p>A lo largo de nuestro curso, el método que utilizaremos para importar la base de datos se basará en la
herramienta Import dataset. Rstudio proporciona una función de importación a través de la pestaña Import
dataset en la parte superior derecha.</p>
<p>[imagen 3]</p>
<p>Esta función nos permitirá buscar el archivo de datos, seleccionarlo y finalmente para poder cargar la base de
datos en R. Al seleccionar la opción From Text (base), podemos navegar en nuestro computador para
encontrar nuestro archivo con la base de datos. Una vez lo seleccionamos, solamente debemos hacer clic en
el botón Open para que la magia se haga realidad.</p>
<ul>
<li>Para aprender sobre otros métodos de importación de datos les sugerimos visitar el siguiente <a href="https://thepracticalr.wordpress.com/2016/09/23/importing-data-into-r/">link</a></li>
</ul>
<p>Una vez seleccionado el archivo, se abrirá una ventana que entrega una vista preliminar del archivo
seleccionado. En la parte superior izquierda, podrán observar la opción name, la cual nos permite asignar un
nombre a nuestra base de datos (¿Recuerdan el comando <code>&lt;-</code>?). En este caso, nuestra base de datos recibirá
el nombre <code>data</code>. Lo único que resta por hacer es darle la orden a R para que importe la base de datos. Esto lo
lo podemos hacer habiendo clic en el botón <code>Import</code>.</p>
<p>[imagen 4]</p>
</div>
<div id="exploremos-los-datos-a-r" class="section level2">
<h2><span class="header-section-number">3.3</span> Exploremos los datos a R</h2>
<p>Al importar nuestro archivo, lo que buscamos es analizar incluso graficar la información contenida en la
base de datos. Sin embargo, antes de eso existe un paso sensible y crítico que jamás debemos olvidar. Es
importante asegurarnos que importamos correctamente nuestros datos!</p>
<p>La función <code>str()</code> nos mostrará el tipo de datos contenido en nuestra base de datos y enumerará cada variable
de columna junto con su tipo de datos.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" title="1"><span class="kw">str</span>(data)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    120 obs. of  9 variables:
##  $ Cultivo      : Factor w/ 1 level &quot;Arandanos&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Region       : Factor w/ 4 levels &quot;BioBio&quot;,&quot;La_Araucania&quot;,..: 4 4 4 4 4 4 4 4 4 4 ...
##  $ Variedad     : Factor w/ 2 levels &quot;V1&quot;,&quot;V2&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Hectareas    : num  1030 999 1118 1007 1078 ...
##  $ Temperatura  : num  16.8 16.9 15 15.7 15.1 15.9 16.1 15.6 17.4 14.7 ...
##  $ costo_jh     : int  13059 13026 12933 13027 13045 12949 13002 12968 12978 13056 ...
##  $ rendimiento  : num  6866 7122 7041 6892 6928 ...
##  $ Perdida_plaga: num  35.1 34.3 31.7 40.5 35.6 33 38.1 37.9 34.8 34.4 ...
##  $ mano_de_obra : int  3080 2728 3120 3135 3276 2966 2725 2874 2785 3193 ...</code></pre>
<p>Como podemos ver, nuestra base contiene variables con diferentes tipos de datos.</p>
<p>La función <code>summary()</code> nos proporciona para cada variable un conjunto de estadísticas descriptivas, según el tipo de variable:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" title="1"><span class="kw">summary</span>(data)</a></code></pre></div>
<pre><code>##       Cultivo             Region   Variedad   Hectareas     
##  Arandanos:120   BioBio      :30   V1:60    Min.   : 998.9  
##                  La_Araucania:30   V2:60    1st Qu.:1477.7  
##                  Maule       :30            Median :1797.0  
##                  Ohiggins    :30            Mean   :2090.7  
##                                             3rd Qu.:2352.7  
##                                             Max.   :3788.0  
##   Temperatura       costo_jh      rendimiento   Perdida_plaga  
##  Min.   :10.00   Min.   :11893   Min.   :4166   Min.   :24.70  
##  1st Qu.:12.50   1st Qu.:11997   1st Qu.:4765   1st Qu.:32.95  
##  Median :13.75   Median :12490   Median :5457   Median :34.60  
##  Mean   :13.74   Mean   :12500   Mean   :5617   Mean   :34.66  
##  3rd Qu.:15.10   3rd Qu.:13002   3rd Qu.:6285   3rd Qu.:37.30  
##  Max.   :17.40   Max.   :13121   Max.   :7247   Max.   :42.80  
##   mano_de_obra 
##  Min.   :2609  
##  1st Qu.:3092  
##  Median :3312  
##  Mean   :3384  
##  3rd Qu.:3645  
##  Max.   :4274</code></pre>
<ol style="list-style-type: decimal">
<li><strong>Variables numéricas:</strong> <code>summary()</code> proporciona el rango, los cuartiles, la mediana y la media.</li>
<li><strong>Variables factoriales:</strong> <code>summary()</code> proporciona una tabla con frecuencias.</li>
<li><strong>Variables numéricas y factoriales:</strong> <code>summary()</code>, en caso de que existan, nos entregará información sobre el número de valores faltantes (<code>NAs</code>).</li>
<li><strong>Variables de caracteres:</strong> <code>summary()</code> solo proporciona la longitud de la variable.</li>
</ol>
<p>La función <code>head()</code> nos entregará las primeras filas de nuestra base de datos. Por defecto serán las primeras 6:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" title="1"><span class="kw">head</span>(data)</a></code></pre></div>
<p>En caso de que quisiéramos ampliar el número de filas:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" title="1"><span class="kw">head</span>(data, <span class="dv">10</span>)</a></code></pre></div>
<p>Por otro lado, la función <code>tail()</code> nos entregará las últimas filas de nuestra base de datos. Por defecto serán
las últimas 6:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" title="1"><span class="kw">tail</span>(data)</a></code></pre></div>
<p>La función <code>names()</code> nos entregará el nombre de las variables (columnas) contenidas en nuestra base de
datos:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" title="1"><span class="kw">names</span>(data)</a></code></pre></div>
<pre><code>## [1] &quot;Cultivo&quot;       &quot;Region&quot;        &quot;Variedad&quot;      &quot;Hectareas&quot;    
## [5] &quot;Temperatura&quot;   &quot;costo_jh&quot;      &quot;rendimiento&quot;   &quot;Perdida_plaga&quot;
## [9] &quot;mano_de_obra&quot;</code></pre>
<p>En caso de que quisiéramos conocer las dimensiones (número de columnas y filas) de nuestra base de datos,
podemos utilizar la función <code>dim()</code>:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" title="1"><span class="kw">dim</span>(data)</a></code></pre></div>
<pre><code>## [1] 120   9</code></pre>
</div>
<div id="exploremos-los-datos-r-con-la-libreria-dplyr" class="section level2">
<h2><span class="header-section-number">3.4</span> Exploremos los datos R con la libreria dplyr</h2>
<p>Una de las grandes ventajas de R es la ampliación de sus funcionalidades básicas mediante paquetes
(packages) o librerías. Las librerías de R se pueden instalar de múltiples formas. En RStudio, lo haremos de
siguiendo una serie de sencillos pasos.</p>
<p>Debemos hacer clic en la pestaña package ubicada en el panel inferior derecho. Al hacer clic en esta pestaña,
aparecerá una pequeña ventana con tres campos principales: Install from, packages, and Install to Library.
Solo necesitamos preocuparnos por el campo packages, los otros dos los dejaremos en su valor
predeterminado.</p>
<p>[figura 5]</p>
<p>Ahora, al escribir las primeras letras del nombre de una librería (en este caso <code>dplyr</code>), Rstudio proporcionará
una lista de librerías disponibles que coincidan con esta palabra. Después de encontrar la librería, todo lo
que tenemos que hacer es hacer clic en el botón Install y dejar que Rstudio trabaje.</p>
<p>[fig 6]</p>
<p>A pesar de estar instalada, a menos que lo especifiquemos, R no cargará la librería en la consola. Entonces,
debemos “llamar” a la librería que acabamos de instalar con el comando <code>library(dplyr)</code>.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" title="1"><span class="kw">library</span>(dplyr)</a></code></pre></div>
<p>La librería dplyr incluye un conjunto de comandos que coinciden con las acciones más comunes que se
realizan sobre un conjunto de datos (seleccionar filas <code>filter</code>, seleccionar columnas <code>select</code>, resumir mediante
alguna medida numérica <code>summarise</code>, entre muchas otras). Para mayor información sobre la librería dplyr
puedes acceder al siguiente <a href="https://rpubs.com/joser/dplyr">link</a>.</p>
<p>La función <code>select()</code> selecciona columnas de nuestra base:</p>
<p>Intentemos seleccionar la columna Region en la base de datos llamada data</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" title="1"><span class="kw">select</span>(data, Region)</a></code></pre></div>
<p>La función <code>select()</code> también nos permite seleccionar todas las columnas excepto una:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" title="1"><span class="kw">select</span>(data, <span class="op">-</span>Region)</a></code></pre></div>
<p>La función <code>slice()</code> selecciona filas de nuestra base. Intentemos seleccionar la quinta fila en la base de datos llamada data:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" title="1"><span class="kw">slice</span>(data, <span class="dv">5</span>)</a></code></pre></div>
<p>La función <code>slice()</code> también nos permite seleccionar una secuencia de filas. Seleccionemos desde la tercera hasta la decima en la base de datos llamada data:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" title="1"><span class="kw">slice</span>(data, <span class="dv">3</span><span class="op">:</span><span class="dv">10</span>)</a></code></pre></div>
<p>La versatilidad de la función <code>slice()</code> es aún mayor. Por ejemplo, podemos seleccionar una secuencia de filas
discontinua:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" title="1"><span class="kw">slice</span>(data, <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">10</span>,<span class="dv">25</span>,<span class="dv">100</span>))</a></code></pre></div>
<p>También existe la función `filter()``, la cual nos permite seleccionar las observaciones (filas) que cumplen las
condiciones que nos interesan. En caso de que quisiéramos seleccionar todas aquellas observaciones en donde el rendimiento fue mayor 7000 toneladas/hectárea:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" title="1"><span class="kw">filter</span>(data, rendimiento <span class="op">&gt;</span><span class="st"> </span><span class="dv">7000</span>)</a></code></pre></div>
<p>Si estuviésemos interesados en seleccionar aquellas observaciones en donde el rendimiento fue mayor 7000
toneladas/hectárea solamente para la variedad 1 de arándanos:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" title="1"><span class="kw">filter</span>(data, rendimiento <span class="op">&gt;</span><span class="st"> </span><span class="dv">7000</span>, Variedad <span class="op">==</span><span class="st"> &quot;V1&quot;</span>)</a></code></pre></div>
<p>Ahora, intentemos seleccionar aquellas observaciones en donde el rendimiento fue mayor 7000 toneladas/hectárea “o” que sean de la Variedad 1:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" title="1"><span class="kw">filter</span>(data, rendimiento <span class="op">&gt;</span><span class="st"> </span><span class="dv">7000</span> <span class="op">|</span><span class="st"> </span>Variedad <span class="op">==</span><span class="st"> &quot;V1&quot;</span>)</a></code></pre></div>
</div>
<div id="reduccion-de-una-base-de-datos" class="section level2">
<h2><span class="header-section-number">3.5</span> Reducción de una base de datos</h2>
<p>La importancia de estas funciones radica en que nos permiten trabajar con subconjuntos de la base de datos
original. Por ejemplo, podemos generar una nueva base de datos que solo contenga la información referida a
las plantaciones de arándanos provenientes de la región del Maule:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" title="1">data1 &lt;-<span class="st"> </span><span class="kw">filter</span>(data, Region <span class="op">==</span><span class="st"> &quot;Maule&quot;</span>)</a>
<a class="sourceLine" id="cb108-2" title="2">data1</a></code></pre></div>
<p>Ahora, podemos aplicar todas las funciones que hemos aprendido para explorar la información contenida en
una base de datos.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tipos-de-datos-en-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualizacion-de-datos-en-rstudio.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["guia_me.pdf", "guia_me.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
